{"version":3,"sources":["components/utils/testCards.js","components/App.js","index.js","components/App.module.css"],"names":["testCards","approved","number","name","cvc","expiry_month","expiry_uear","declined","kushki","Kushki","merchantId","process","inTestEnvironment","App","useState","data","setData","setSuccess","isLoading","setIsLoading","handleChange","e","target","value","handleSubmit","a","preventDefault","requestToken","amount","currency","card","replace","expiryMonth","expiryYear","response","axios","post","token","then","console","log","alert","details","responseText","ticketNumber","catch","error","finally","className","style","paymentForm","src","alt","onSubmit","formGroup","htmlFor","placeholder","type","onChange","formMMYYCVC","fieldsMMYYCVC","min","max","Test","btnActionTest","btnTestApproved","onClick","btnTestDeclined","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.e8a99419.chunk.js","sourcesContent":["const testCards = {\r\n  approved: {\r\n    number: \"5451 9515 7492 5480\",\r\n    name: \"Juan Pérez\",\r\n    cvc: \"123\",\r\n    expiry_month: \"11\",\r\n    expiry_uear: \"22\",\r\n  },\r\n  declined: {\r\n    number: \"4349 0030 0004 7015\",\r\n    name: \"Juan Pérez\",\r\n    cvc: \"123\",\r\n    expiry_month: \"11\",\r\n    expiry_uear: \"22\",\r\n  },\r\n};\r\n\r\nexport default testCards;\r\n","import { useState } from \"react\";\nimport { Kushki } from \"@kushki/js\";\nimport axios from \"axios\";\n\nimport testCards from \"./utils/testCards\";\nimport style from \"./App.module.css\";\n\nconst kushki = new Kushki({\n  merchantId: process.env.REACT_APP_MERCHANT_ID,\n  inTestEnvironment: true,\n});\n\nconst App = () => {\n  const [data, setData] = useState({\n    number: \"\",\n    name: \"\",\n    expiry_month: \"\",\n    expiry_uear: \"\",\n    cvc: \"\",\n  });\n\n  const [success, setSuccess] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleChange = (e) =>\n    setData({ ...data, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    kushki.requestToken(\n      {\n        amount: \"49.99\",\n        currency: \"USD\",\n        card: {\n          name: data.name,\n          number: data.number.replace(/ /g, \"\"),\n          cvc: data.cvc,\n          expiryMonth: data.expiry_month,\n          expiryYear: data.expiry_uear,\n        },\n      },\n      (response) => {\n        axios\n          .post(\"https://api-pagos-kushki.herokuapp.com/api/cards\", {\n            amount: 49.99,\n            token: response.token,\n          })\n          .then((response) => {\n            console.log(response.data);\n            alert(\n              `😁👌🏻 ${response.data.details.responseText}. Ticket #${response.data.ticketNumber}`\n            );\n            setSuccess(response.data);\n          })\n          .catch((error) => {\n            alert(error);\n          })\n          .finally(() => {\n            setIsLoading(false);\n          });\n      }\n    );\n  };\n\n  const handleTestApproved = () => {\n    const { approved } = testCards;\n    setData({\n      number: approved.number,\n      name: approved.name,\n      cvc: approved.cvc,\n      expiry_month: approved.expiry_month,\n      expiry_uear: approved.expiry_uear,\n    });\n  };\n  const handleTestDeclined = () => {\n    const { declined } = testCards;\n    setData({\n      number: declined.number,\n      name: declined.name,\n      cvc: declined.cvc,\n      expiry_month: declined.expiry_month,\n      expiry_uear: declined.expiry_uear,\n    });\n  };\n\n  return (\n    <div className={style.App}>\n      {isLoading ? (\n        <h1>Loading..</h1>\n      ) : (\n        <div className={style.paymentForm}>\n          <img\n            src=\"https://uat-console.kushkipagos.com/static/media/logo.3a61df33.svg\"\n            alt=\"kushki_logo\"\n          />\n          <h3>\n            PAGOS ÚNICOS <br />\n            CON TARJETA DE CRÉDITO\n          </h3>\n          <form onSubmit={handleSubmit}>\n            <div className={style.formGroup}>\n              <label htmlFor=\"number\">Card Number</label>\n              <input\n                placeholder=\"Card Number\"\n                type=\"text\"\n                name=\"number\"\n                value={data.number}\n                onChange={handleChange}\n              />\n            </div>\n            <div className={style.formGroup}>\n              <label htmlFor=\"name\">Card Name</label>\n              <input\n                placeholder=\"Full Name\"\n                type=\"text\"\n                name=\"name\"\n                value={data.name}\n                onChange={handleChange}\n              />\n            </div>\n            <div className={style.formMMYYCVC}>\n              <div className={style.fieldsMMYYCVC}>\n                <label htmlFor=\"expiry_month\">MM</label>\n                <input\n                  placeholder=\"MM\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"12\"\n                  name=\"expiry_month\"\n                  value={data.expiry_month}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className={style.fieldsMMYYCVC}>\n                <label htmlFor=\"expiry_year\">YY</label>\n                <input\n                  placeholder=\"YY\"\n                  type=\"number\"\n                  min=\"21\"\n                  max=\"24\"\n                  name=\"expiry_uear\"\n                  value={data.expiry_uear}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className={style.fieldsMMYYCVC}>\n                <label htmlFor=\"cvc\">CVC</label>\n                <input\n                  placeholder=\"CVC\"\n                  type=\"text\"\n                  name=\"cvc\"\n                  value={data.cvc}\n                  onChange={handleChange}\n                />\n              </div>\n            </div>\n            <button type=\"submit\">Pay $49.99 with Kushki</button>\n          </form>\n          <div className={style.Test}>\n            <h3>Test Actions</h3>\n            <div className={style.btnActionTest}>\n              <button\n                type=\"button\"\n                className={style.btnTestApproved}\n                onClick={handleTestApproved}\n              >\n                Test Approved\n              </button>\n              <button\n                type=\"button\"\n                className={style.btnTestDeclined}\n                onClick={handleTestDeclined}\n              >\n                Test Declined\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3sHf_\",\"paymentForm\":\"App_paymentForm__sHPEV\",\"formGroup\":\"App_formGroup__37Txj\",\"formMMYYCVC\":\"App_formMMYYCVC__m1FSe\",\"fieldsMMYYCVC\":\"App_fieldsMMYYCVC__2FOo7\",\"Test\":\"App_Test__1IeM7\",\"btnActionTest\":\"App_btnActionTest__32gTF\",\"btnTestApproved\":\"App_btnTestApproved__2bVWz\",\"btnTestDeclined\":\"App_btnTestDeclined__BDOa1\"};"],"sourceRoot":""}